{"ast":null,"code":"var _jsxFileName = \"C:\\\\ElevenFiftyBlueBadge\\\\72hourproj\\\\src\\\\components\\\\apps\\\\Weather.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Weather extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      lat: undefined,\n      lon: undefined,\n      city: undefined,\n      temperatureC: undefined,\n      temperatureF: undefined,\n      icon: undefined,\n      errorMessage: undefined\n    };\n\n    this.getPosition = () => {\n      return new Promise(function (resolve, reject) {\n        navigator.geolocation.getCurrentPosition(resolve, reject);\n      });\n    };\n\n    this.getWeather = async (latitude, longitude) => {\n      const api_call = await fetch(`//api.openweathermap.org/data/2.5/weather?;at=${latitude}&lon=${longitude}&appid=${process.env.WEATHER_API_KEY}&units=metric`);\n      const data = await api_call.json();\n      this.setState({\n        lat: latitude,\n        lon: longitude,\n        city: data.name,\n        temperatureC: Math.round(data.main.temp),\n        temperatureF: Math.round(data.main.temp * 1.8 + 32),\n        icon: data.weather[0].icon\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getPosition().then(position => {\n      this.getWeather(position.coords.latitude, position.coords.longitude);\n    }).catch(err => {\n      this.setState({\n        errorMessage: err.message\n      });\n    });\n    this.timerID = setInterval(() => this.getWeather(this.state.lat, this.state.lon), 60000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  render() {\n    const {\n      city,\n      temperatureC,\n      temperatureF,\n      icon\n    } = this.state;\n\n    if (city) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"weather-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"weather-item\",\n            children: city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"weather-item\",\n            children: [temperatureC, \" \\xB0C \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"slash\",\n              children: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 61\n            }, this), \" \", temperatureF, \" \\xB0F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"weather-icon\",\n              src: `http://openweathermap.org/img/w/${icon}.png`,\n              alt: \"weather icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this);\n    }\n  }\n\n}\n\nexport default Weather;","map":{"version":3,"sources":["C:/ElevenFiftyBlueBadge/72hourproj/src/components/apps/Weather.js"],"names":["React","Component","Weather","state","lat","undefined","lon","city","temperatureC","temperatureF","icon","errorMessage","getPosition","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","getWeather","latitude","longitude","api_call","fetch","process","env","WEATHER_API_KEY","data","json","setState","name","Math","round","main","temp","weather","componentDidMount","then","position","coords","catch","err","message","timerID","setInterval","componentWillUnmount","clearInterval","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\n\r\n\r\n\r\nclass Weather extends Component {\r\nstate = {\r\n  lat: undefined,\r\n  lon: undefined,\r\n  city: undefined,\r\n  temperatureC: undefined,\r\n  temperatureF: undefined,\r\n  icon: undefined,\r\n  errorMessage: undefined,\r\n}\r\n\r\ngetPosition = () => {\r\n  return new Promise(function (resolve, reject) {\r\n    navigator.geolocation.getCurrentPosition(resolve, reject);\r\n  });\r\n}\r\ngetWeather = async (latitude, longitude) => {\r\n  const api_call = await fetch(`//api.openweathermap.org/data/2.5/weather?;at=${latitude}&lon=${longitude}&appid=${process.env.WEATHER_API_KEY}&units=metric`);\r\n  const data = await api_call.json();\r\n  this.setState({\r\n    lat: latitude,\r\n    lon: longitude,\r\n    city: data.name,\r\n    temperatureC: Math.round(data.main.temp),\r\n      temperatureF: Math.round(data.main.temp * 1.8 + 32),\r\n    icon: data.weather[0].icon\r\n  })\r\n}\r\n\r\ncomponentDidMount() {\r\n  this.getPosition()\r\n  .then((position) => {\r\n    this.getWeather(position.coords.latitude, position.coords.longitude)\r\n  })\r\n  .catch((err) => {\r\n    this.setState({ errorMessage: err.message });\r\n  });\r\n\r\n  this.timerID = setInterval(\r\n    () => \r\n    this.getWeather(this.state.lat, this.state.lon),\r\n    60000\r\n  );\r\n}\r\n\r\ncomponentWillUnmount() {\r\n  clearInterval(this.timerID);\r\n}\r\n\r\nrender() {\r\n  const { city, temperatureC, temperatureF, icon} = this.state;\r\n   if (city) {\r\n     return (\r\n    <div className=\"App\">\r\n      <div className=\"weather-box\">\r\n        <div className=\"weather-item\">{city}</div>\r\n        <div className=\"weather-item\">{temperatureC} &deg;C <span className=\"slash\">/</span> {temperatureF} &deg;F</div>\r\n        <div>\r\n          <img className=\"weather-icon\" src={`http://openweathermap.org/img/w/${icon}.png`} alt=\"weather icon\"/>\r\n      </div>\r\n    </div>\r\n    </div>\r\n     );\r\n   }\r\n  else {\r\n    return (\r\n      <div>Loading...</div>\r\n    )\r\n  }}}\r\n\r\n\r\n\r\n\r\nexport default Weather;\r\n"]},"metadata":{},"sourceType":"module"}